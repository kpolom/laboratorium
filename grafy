#include <stdio.h>
#include <stdlib.h>

int main() {

  int i = 0;
  int j = 0;
  int y = 0;
  int u = 0;
  int max = 0;
  int p = 0;
  int suma, N, M ,O, x, w;
  int sp = 0;

  printf("Podaj liczbe wierzcholkow grafu:");
  scanf("%d", &N);
M = N;
int tab[N][M];
for (y=0; y<N; y++) {
    for (u=0; u<M; u++) {
        tab[y][u] = 99999;
    }
}
while (i<=N) {
  while (j<=M) {
    if (j == i) {
        tab[i][j]=0;
        j=j+1;
            if(j > M) {
                i=i+1;
                j=0;
            }
        }
      if (tab[i][j] == 99999) {
            printf("Czy wierzcholek %d jest polaczony z wierzcholkiem %d: (1-tak, 0-nie)\n", i+1 , j+1);
            scanf("%d", &x);
          if ((x != 0) && (x != 1)) {
            printf("Mozesz wpisac: 1-tak lub 0-nie.\nCzy wierzcholek %d jest polaczony z wierzcholkiem %d: (1-tak, 0-nie)\n", i+1 , j+1);
            scanf("%d", &x);
          }
          if (x == 1) {
            tab[i][j] = 1;
            tab[j][i] = 1;
              j=j+1;
                    }
          else if (x == 0) {
            tab[i][j] = 0;
            tab[j][i] = 0;
              j=j+1;
                    }
         if (j >= M) {
            i=i+1;
            j=0;
                    }
            }
      else  {
            if (j < M) {
              j=j+1;
                    }
            else if(i <= N) {
              i=i+1;
              j=0;
                    }
            else  {
              j = M+1;
                    }
            }
        }
    }
       printf("\n");
for (i=0; i<N; i++) {
    for (j=0; j<M; j++)
        printf("%3d",tab[i][j]);
        printf("\n");
            }
      printf("\n");
 for (j=0; j<M; j++) {
    suma = 0;
        for (i=0; i<N; i++)
            suma = suma + tab[j][i];
            printf("Stopien wierzcholka %d = %d\n",j+1,suma);
            if (max <= suma){
                max = suma;
              }
        }
  for (j=0; j<M; j++) {
      suma = 0;
          for (i=0; i<N; i++)
              suma = suma + tab[j][i];
                if (suma % 2 == 0) {
                      p=1;
                      }
                if (suma % 2 != 0){
                      p=0;
                      j=M;
                      }
                if (suma == 0) {
                       p=0;
                       j=M;
                      }
          }
for (i=0;i<N;i++) {
      sp=sp+tab[i][N-i];
        }
if (sp % 2 == 0){
  p=1;
}
if (sp % 2 != 0){
  p=0;
}
if (p == 1){
    printf(" \nGraf jest eulerowski\n");
  }
else if (p == 0){
    printf(" \nGraf nie jest eulerowski\n");
  }
    printf(" \nStopien grafu: %d\n \n",max);
 return 0;
}
